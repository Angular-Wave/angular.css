button,
input[type="button"] {
  
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  cursor: pointer;
  
  /* Base */
  @apply rounded-md
        text-sm font-medium transition-all
        disabled:pointer-events-none disabled:opacity-50
        outline-none focus-visible:ring-[3px];

  /* Default variant */
  &:not([variant]) {
    @apply bg-primary text-primary-foreground shadow-xs hover:bg-primary/90;
  }

  /* Default size */
  &:not([size]) {
    @apply h-9 px-4 py-2 gap-2 has-[>svg]:px-3;
  }

  /* --- Variants --- */
  &[variant="default"] {
    @apply bg-primary text-primary-foreground shadow-xs hover:bg-primary/90;
  }

  /* --- Shared variant styles --- */
  &[variant="error"],
  &[variant="warning"],
  &[variant="info"],
  &[variant="success"] {
    @apply text-white shadow-xs hover:opacity-90;
  }

  /* --- Individual variant colors --- */
  &[variant="error"] {
    @apply bg-[var(--error)] focus-visible:ring-[var(--error)]/20
          dark:bg-[var(--error)]/60 dark:focus-visible:ring-[var(--error)]/40;
  }

  &[variant="warning"] {
    @apply bg-[var(--warning)] focus-visible:ring-[var(--warning)]/20
          dark:bg-[var(--warning)]/60 dark:focus-visible:ring-[var(--warning)]/40;
  }

  &[variant="info"] {
    @apply bg-[var(--info)] focus-visible:ring-[var(--info)]/20
          dark:bg-[var(--info)]/60 dark:focus-visible:ring-[var(--info)]/40;
  }

  &[variant="success"] {
    @apply bg-[var(--success)] focus-visible:ring-[var(--success)]/20
          dark:bg-[var(--success)]/60 dark:focus-visible:ring-[var(--success)]/40;
  }

  &[variant="outline"] {
    @apply border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground
               dark:bg-input/30 dark:border-input dark:hover:bg-input/50;
  }

  &[variant="secondary"] {
    @apply bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80;
  }

  &[variant="ghost"] {
    @apply hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50;
  }

  &[variant="link"] {
    @apply text-primary underline-offset-4 hover:underline;
  }

  /* --- Sizes --- */
  &[size="default"] {
    @apply h-9 px-4 py-2 gap-2 has-[>svg]:px-3;
  }

  &[size="sm"],  &[size="icon-sm"] {
    @apply h-8 gap-1.5 px-3 has-[>svg]:px-2.5;
  }

  &[size="lg"],  &[size="icon-lg"] {
    @apply h-10 px-6 has-[>svg]:px-3;
  }

  &[size="icon"] {
    align-items: center;
    @apply size-9;
  }

  &[size="icon-sm"] {
    > svg {
      @apply size-3;
    }
  }

  &[size="icon-lg"] {
    > svg {
      @apply size-4;
    }
  }

  /* --- SVG tweaks --- */
  & > svg {
    @apply pointer-events-none shrink-0;
  }

  & > svg {
    @apply size-4;
  }

  /* --- Accessibility states --- */
  &[aria-invalid="true"] {
    @apply border-error ring-error/20 dark:ring-error/40;
  }
}